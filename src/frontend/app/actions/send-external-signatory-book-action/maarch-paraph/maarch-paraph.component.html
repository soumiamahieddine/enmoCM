<div class="col-md-12">
    <div class="fieldsetdContainer" style="flex:2">
        <h2>{{'lang.visaWorkflow' | translate}} :</h2>
        <div class="fieldsetdContent">
            <app-visa-workflow #appVisaWorkflow [adminMode]="true" [injectDatas]="injectDatasParam"
                [linkedToMaarchParapheur]="true"></app-visa-workflow>
            <div *ngIf="appVisaWorkflow.checkExternalSignatoryBook().length > 0"
                class="alert-message alert-message-danger" role="alert">
                <b>{{appVisaWorkflow.checkExternalSignatoryBook().join(', ')}}</b>
                {{'lang.usersMissingInSignatureBook' | translate}} !
            </div>
        </div>
    </div>
</div>
<div class="col-md-12" style="text-align: right;">
    <button mat-button *ngIf="additionalsInfos.attachments.length === 1" color="primary" type="button" [matMenuTriggerFor]="menu" [disabled]="!isValidParaph()">GÃ©rer les positions de signature...</button>
    <mat-menu #menu="matMenu">
        <button mat-menu-item *ngFor="let resource of resourcesToSign" (click)="openSignaturePosition(resource.resId)">{{resource.title}}</button>
    </mat-menu>
</div>
<div class="col-md-12" *ngIf="additionalsInfos.visaWorkflowError">
    <div>
        <div class="alert-message alert-message-danger mailList" role="alert">
            <p>
                {{'lang.canNotMakeAction' | translate}} :
            </p>
            <ul>
                <li *ngFor="let visaError of additionalsInfos.visaWorkflowError">
                    <b>{{visaError.alt_identifier}}</b> : {{'lang.' + visaError.reason | translate}}
                </li>
            </ul>
        </div>
    </div>
</div>